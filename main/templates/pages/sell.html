<!doctype html>
<html lang="en">
<head>
  <title>Продать</title>
  {% include "../templs/style.html" %}
</head>
<header>
  {% include "../templs/profile_btn.html" %}
</header>
<body>
  <form style="width: 100%;" method="POST" id="frm">
    <div style="padding: 30px; margin: 80px 40px 0 40px; min-width: 1000px; display: flex; background-color: #312f3d; color: white; border-radius: 10px;">

      <div style="width: 25%;">
        <v-img
          src="{{ item.item.item_image }}"
          cover
          style="border-radius: 10px; width: 100%"
        ></v-img>
        <v-card-title style="margin-top: 25px; font-size: 25px; text-align: center; width: 100%">{{ item.item_name }}</v-card-title>
      </div>

      <div style="width: 75%; position: relative; margin-left: 30px">
        <p style="font-size: 20px; position: absolute; top: 0">Описание: {{ item.item.item_description }}</p>
        {% csrf_token %}
        <v-dialog max-width="400">

          <template v-slot:activator="{ props: activatorProps }">
            <v-text-field label="Введите цену" variant="outlined" name="price" id="price" type="number" min="1" max="9999999999999999999" style="position: absolute; bottom: 80px; width: 100%;" required></v-text-field>
            <v-btn id="sell_btn" color="orange" variant="tonal" style="width: 100%; height: 80px; bottom: 0; position: absolute; font-size: 25px; border: 2px solid orange" v-bind="activatorProps">
              Продать на маркете за
            </v-btn>
          </template>

          <template v-slot:default="{ isActive }">
            <v-card title="Продажа предмета" theme="dark">
              <v-card-text>
                {{ item.item_name }}
              </v-card-text>
              <v-card-actions>
                <v-spacer></v-spacer>
                <v-btn id="second_btn" style="font-family: JetBrains Mono; color: rgb(48, 209, 88); width: 100%; height: 60px; background-color: rgba(255, 255, 255, 0.1); font-size: 18px;" type="submit" form="frm">
                    Продать за ?
                </v-btn>
              </v-card-actions>
            </v-card>
          </template>
        </v-dialog>
      </div>

    </div>
  </form>

</body>

<script src="../static/js/script.js"></script>
<script>
  'use strict';

  let inp = document.getElementById('price');
  let btn = document.getElementById('sell_btn');
  //

  inp.addEventListener('input', function() {
    let val = document.getElementById('sell_btn');

    val.innerText = `Продать на маркете за ${inp.value}`;
  });

  btn.addEventListener('click', function() {
    let second_val = document.getElementById('second_btn');
    second_val.innerText = `Продать за ${inp.value}?`
  });

</script>
</html>
